#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Use lint-staged for efficient staged file processing
echo "ğŸ”§ Processing staged files with lint-staged..."
npx lint-staged || { echo "âŒ lint-staged failed"; exit 1; }

# Run additional validations on all files
echo "ğŸ” Running HTML validation..."
npm run lint:html || { echo "âŒ HTML validation failed"; exit 1; }

echo "ğŸ¨ Running CSS linting..."
npm run lint:css || { echo "âŒ CSS linting failed"; exit 1; }

# Final comprehensive check
echo "ğŸ“‹ Final linting check..."
npm run lint || { echo "âŒ Final lint check failed"; exit 1; }

echo "âœ… All pre-commit checks passed!"
